"use strict";(self.webpackChunkbbs_docs=self.webpackChunkbbs_docs||[]).push([[282],{4623:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"Data/Caching_Strategy","title":"Caching Strategy: Redis & App-level","description":"This document outlines the caching layers and patterns to optimize performance while ensuring data consistency.","source":"@site/docs/06_Data/03_Caching_Strategy.md","sourceDirName":"06_Data","slug":"/Data/Caching_Strategy","permalink":"/bbs-docs/docs/Data/Caching_Strategy","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Migrations: Liquibase Strategy","permalink":"/bbs-docs/docs/Data/Migrations"},"next":{"title":"7. Security","permalink":"/bbs-docs/docs/security"}}');var t=s(4848),a=s(8453);const c={},r="Caching Strategy: Redis & App-level",l={},o=[{value:"1. Cache Layers",id:"1-cache-layers",level:2},{value:"2. Caching Patterns",id:"2-caching-patterns",level:2},{value:"2.1. Cache-Aside Pattern",id:"21-cache-aside-pattern",level:3},{value:"2.2. Cache Stampede Protection",id:"22-cache-stampede-protection",level:3},{value:"3. Consistency &amp; Invalidation",id:"3-consistency--invalidation",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"caching-strategy-redis--app-level",children:"Caching Strategy: Redis & App-level"})}),"\n",(0,t.jsxs)(n.p,{children:["This document outlines the ",(0,t.jsx)(n.strong,{children:"caching layers"})," and patterns to optimize performance while ensuring data consistency."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"1-cache-layers",children:"1. Cache Layers"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Redis Read Cache"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Stores seat availability for quick ",(0,t.jsx)(n.code,{children:"CheckAvailability"})," responses."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TTL"}),": 10 seconds to limit staleness."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Key"}),": ",(0,t.jsx)(n.code,{children:"seat:{seat_id}"})," \u2192 ",(0,t.jsx)(n.code,{children:'{ "available": true/false }'}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Application-Level Cache"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Local in\u2011memory cache (e.g., Caffeine, Guava) for hot routes."}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TTL"}),": 1 minute; ",(0,t.jsx)(n.strong,{children:"Max Size"}),": 1000 entries."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-caching-patterns",children:"2. Caching Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"21-cache-aside-pattern",children:"2.1. Cache-Aside Pattern"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"Application:\n  on request:\n    value = cache.get(key)\n    if value == null:\n      value = database.read(key)\n      cache.put(key, value, TTL)\n    return value\n"})}),"\n",(0,t.jsx)(n.h3,{id:"22-cache-stampede-protection",children:"2.2. Cache Stampede Protection"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Mutex Lock"}),": Use Redis ",(0,t.jsx)(n.code,{children:"SETNX"})," to lock on cache miss."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Request Coalescing"}),": Use fallback TTL for stale responses."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-consistency--invalidation",children:"3. Consistency & Invalidation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Eviction"}),": LRU policy with TTL and size limits."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Invalidation"}),": On seat lock/unlock, delete ",(0,t.jsx)(n.code,{children:"seat:{seat_id}"})," key."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Write-Through"}),": Cache updated after DB transaction commit."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Document Version: 1.0"}),"\n",(0,t.jsx)(n.li,{children:"Date: 2025-06-23"}),"\n",(0,t.jsx)(n.li,{children:"Author: ArturChernets"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>r});var i=s(6540);const t={},a=i.createContext(t);function c(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);